<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link rel="stylesheet" href="RegisterForm.css">
    <script>

	window.onload = function() {
            // Verificar si hay un mensaje de error en la URL
            const urlParams = new URLSearchParams(window.location.search);
            const error = urlParams.get('error');
            
            if (error) {
                alert(error);  // Mostrar el mensaje como un alert
            }
        };
	
        // Funci√≥n para mostrar campos adicionales seg√∫n el rol seleccionado
        function mostrarCamposAdicionales() {
            const rol = document.querySelector("select[name='rol']").value;
            const camposProductor = document.getElementById("campos-productor");
            const campoDireccion = document.getElementById("campo-direccion");

            if (rol === "Productor") {
                camposProductor.style.display = "block";
                campoDireccion.style.display = "none";
            } else if (rol === "Consumidor") {
                camposProductor.style.display = "none";
                campoDireccion.style.display = "block";
            } else {
                camposProductor.style.display = "none";
                campoDireccion.style.display = "none";
            }
        }
    </script>
</head>
<body>
    <div class="wrapper">
        <form action="/api/registro" method="post">
            <h1>Registro</h1>
            <div class="input-box">
                <input type="text" name="nombre" placeholder="Nombre" required>
                <span class="icon">üë§</span>
            </div>
            <div class="input-box">
                <input type="password" name="contrase√±a" placeholder="Contrase√±a" required>
                <span class="icon">üîí</span>
            </div>
            <div class="input-box">
                <input type="email" name="email" placeholder="Correo" required>
                <span class="icon">‚úâÔ∏è</span>
            </div>
            <div class="input-box">
                <input type="text" name="telefono" placeholder="Tel√©fono" required>
                <span class="icon">üìû</span>
            </div>
            <div class="input-box">
                <select name="rol" required onchange="mostrarCamposAdicionales()">
                    <option value="" disabled selected>Selecciona tu rol</option>
                    <option value="Productor">Productor</option>
                    <option value="Consumidor">Consumidor</option>
                </select>
                <span class="icon">üë•</span>
            </div>

            <!-- Campos adicionales solo para el rol "Productor" -->
            <div id="campos-productor" style="display: none;">
                <div class="input-box">
                    <input type="text" name="empresa" placeholder="Nombre de la empresa">
                    <span class="icon">üè¢</span>
                </div>
                <div class="input-box">
                    <input type="text" name="ubicacion" placeholder="Ubicaci√≥n de la empresa">
                    <span class="icon">üó∫Ô∏è</span>
                </div>
            </div>

            <!-- Campo adicional solo para el rol "Consumidor" -->
            <div id="campo-direccion" style="display: none;">
                <div class="input-box">
                    <input type="text" name="direccion" placeholder="Direcci√≥n">
                    <span class="icon">üè†</span>
                </div>
            </div>

            <button type="submit">Registrarme</button>
        </form>

	 <!-- Informaci√≥n para registrarse como vendedor -->
        <div class="info-vendedor">
            <p>Para registrarte como <strong>vendedor</strong>, por favor env√≠a un correo a <a href="mailto:chugchilanmarketplace@gmail.com">chugchilanmarketplace@gmail.com</a>.</p>
        </div>
    </div>
</body>
</html>
